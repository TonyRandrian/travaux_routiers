DOCUMENTATION TECHNIQUE
Application Mobile - Travaux Routiers Antananarivo


SCENARIOS D'UTILISATION


Figure 1 : Tableau de bord (mode visiteur)

Scenario : Consultation du tableau de bord sans authentification
L'application demarre directement sur le tableau de bord sans demander de connexion. L'utilisateur peut consulter librement les statistiques globales : nombre de signalements, surface totale et budget total. Le graphique d'avancement affiche le pourcentage de travaux termines. 
En mode visiteur, un bouton de connexion apparait en haut a droite (icone personne). Les boutons "Signaler" et "Mes alertes" affichent une icone de cadenas indiquant qu'ils necessitent une connexion. Une banniere en bas invite l'utilisateur a se connecter pour contribuer.
Le bouton "Carte" et "Profil" sont accessibles sans connexion. Le bouton flottant (+) en bas a droite n'apparait pas tant que l'utilisateur n'est pas connecte.


Figure 2 : Carte - Affichage global (mode visiteur)

Scenario : Visualisation de tous les signalements sur la carte
L'utilisateur appuie sur le bouton "Carte" depuis le tableau de bord. La carte affiche tous les signalements de la ville avec des marqueurs colores selon leur statut : rouge pour Nouveau, orange pour En cours, vert pour Termine. Le marqueur bleu indique la position actuelle de l'utilisateur.
La barre de statistiques en bas affiche le total et la repartition par statut. Le bouton de legende (icone couches) permet d'afficher ou masquer la legende des couleurs.
Le bouton de filtre personnel n'apparait pas car l'utilisateur n'est pas connecte. Le bouton flottant (+) n'est pas visible non plus.


Figure 3 : Carte - Filtre personnel active (mode connecte)

Scenario : Filtrage des signalements personnels
Prerequis : L'utilisateur est connecte.
Difference avec la Figure 2 : Le bouton de filtre apparait en haut a droite car l'utilisateur est authentifie. En appuyant dessus, le bouton devient jaune avec une icone de personne seule, indiquant que seuls les signalements de l'utilisateur connecte sont affiches. 
Les statistiques en bas sont recalculees pour ne compter que les signalements personnels. Le bouton flottant (+) est maintenant visible car l'utilisateur peut creer des signalements.
Pour desactiver le filtre, l'utilisateur appuie a nouveau sur le bouton qui redevient gris avec une icone de groupe.


Figure 4 : Formulaire de creation

Scenario : Creation d'un nouveau signalement
Prerequis : L'utilisateur doit etre connecte. S'il appuie sur "Signaler" ou le bouton (+) sans etre connecte, il est automatiquement redirige vers la page de connexion.
Apres connexion, l'utilisateur accede au formulaire. Il remplit les champs : titre, description, surface en metres carres, budget estime en Ariary. Il peut optionnellement selectionner une entreprise dans la liste deroulante.
Pour la localisation, il appuie sur "MA POSITION" pour utiliser le GPS automatiquement ou deplace manuellement le marqueur sur la mini-carte.
Apres validation, le signalement est cree avec le statut "Nouveau" et l'utilisateur est redirige vers la liste de ses signalements.


Figure 5 : Liste des signalements personnels

Scenario : Consultation de ses propres signalements
Prerequis : L'utilisateur doit etre connecte. S'il appuie sur "Mes alertes" sans etre connecte, il est redirige vers la page de connexion.
La liste affiche uniquement les signalements crees par l'utilisateur connecte. Chaque element affiche le titre, la description, la date et le statut. La barre coloree a gauche indique visuellement le statut.
L'utilisateur appuie sur un element pour afficher les details complets. Le bouton flottant (+) permet de creer directement un nouveau signalement.


Figure 6 : Detail d'un signalement

Scenario : Consultation des details d'un signalement
L'utilisateur a selectionne un signalement depuis la liste ou depuis la carte. L'ecran affiche toutes les informations : titre, description, date de creation, statut avec badge colore, surface, budget formate, entreprise assignee et coordonnees GPS.
Le bouton "FERMER" permet de revenir a l'ecran precedent.


CONTROLE D'ACCES

Pages accessibles sans connexion :
- Tableau de bord (consultation uniquement)
- Carte (visualisation de tous les signalements)
- Page de connexion

Pages necessitant une connexion :
- Nouveau signalement
- Mes signalements
- Profil utilisateur

Comportement : Lorsqu'un utilisateur non connecte tente d'acceder a une page protegee, il est automatiquement redirige vers la page de connexion. Apres authentification, il est renvoye vers la page initialement demandee.


WORKFLOWS PRINCIPAUX

Workflow visiteur : Consulter la carte
Demarrage > Tableau de bord > Bouton "Carte" > Visualisation des signalements

Workflow utilisateur : Creer un signalement
Tableau de bord > Bouton "Signaler" > Redirection connexion > Authentification > Formulaire > Validation

Workflow utilisateur : Consulter ses signalements
Tableau de bord > Bouton "Mes alertes" > Connexion si necessaire > Liste > Selection > Detail

Workflow carte filtree (connecte) :
Carte > Bouton filtre (devient jaune) > Affichage signalements personnels uniquement